{% extends "base.html" %}

{% block content %}
<style>
  body {
    background-color: #f0f2f5; /* optional light background */
    margin: 0;
    padding: 0;
  }

  /* Center the card at the top */
  .profile-container {
    display: flex;
    justify-content: center; /* center horizontally */
    padding: 2rem 1rem;
    margin-top: 2rem; /* space from top */
  }

  .profile-card {
    width: 100%;
    max-width: 900px;
    background: white;
    border-radius: 1rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .profile-card-header {
    background: linear-gradient(135deg, #667eea 0%, #3d7dff 100%);
    padding: 2rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }

  .profile-icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    flex-shrink: 0;
  }

  .profile-icon-wrapper svg {
    width: 40px;
    height: 40px;
    fill: white;
  }

  .profile-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: white;
    margin: 0 0 0.5rem 0;
  }

  .profile-role-badge {
    display: inline-block;
    background: rgba(255, 255, 255, 0.25);
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 2rem;
    font-weight: 500;
  }

  .profile-card-body {
    padding: 2rem;
  }

  .profile-info-item {
    display: flex;
    align-items: flex-start;
    padding: 1rem;
    margin-bottom: 1rem;
    background: #f7fafc;
    border-radius: 0.75rem;
  }

  .profile-icon-box {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 0.75rem;
    margin-right: 1rem;
    flex-shrink: 0;
  }

  .profile-info-content {
    flex: 1;
  }

  .profile-info-label {
    color: #718096;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    text-transform: uppercase;
  }

  .profile-info-value {
    color: #2d3748;
    font-size: 1rem;
    font-weight: 500;
    margin: 0;
  }

  .icon-primary { background: rgba(102, 126, 234, 0.1); }
  .icon-primary svg { fill: #667eea; }
  .icon-success { background: rgba(72, 187, 120, 0.1); }
  .icon-success svg { fill: #48bb78; }
  .icon-info { background: rgba(49, 130, 206, 0.1); }
  .icon-info svg { fill: #3182ce; }
  .icon-warning { background: rgba(237, 137, 54, 0.1); }
  .icon-warning svg { fill: #ed8936; }

  @media (max-width: 768px) {
    .profile-container { padding: 1rem; margin-top: 1rem; }
    .profile-title { font-size: 1.5rem; }
    .profile-card-body { padding: 1.5rem; }
  }
</style>

<div class="profile-container">
  <div class="profile-card">
    <div class="profile-card-header">
      <div class="profile-icon-wrapper">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
        </svg>
      </div>
      <div>
        <h2 class="profile-title">{{ request.user.username }}</h2>
        <span class="profile-role-badge">{{ request.user.role|capfirst }}</span>
      </div>
    </div>

    <div class="profile-card-body">
      <!-- Email -->
      <div class="profile-info-item">
        <div class="profile-icon-box icon-primary">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
          </svg>
        </div>
        <div class="profile-info-content">
          <div class="profile-info-label">Email Address</div>
          <p class="profile-info-value">{{ request.user.email }}</p>
        </div>
      </div>

      <!-- School -->
      {% if request.user.school %}
      <div class="profile-info-item">
        <div class="profile-icon-box icon-warning">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
          </svg>
        </div>
        <div class="profile-info-content">
          <div class="profile-info-label">School</div>
          <p class="profile-info-value">{{ request.user.school.name }}</p>
        </div>
      </div>
      {% endif %}

      <!-- Campus -->
      {% if request.user.campus %}
      <div class="profile-info-item">
        <div class="profile-icon-box icon-info">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path d="M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917l-7.5-3.5Z"/>
            <path d="M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466 4.176 9.032Z"/>
          </svg>
        </div>
        <div class="profile-info-content">
          <div class="profile-info-label">Campus</div>
          <p class="profile-info-value">{{ request.user.campus.name }}</p>
        </div>
      </div>
      {% endif %}

      <!-- Department -->
      {% if request.user.department.all %}
      <div class="profile-info-item">
        <div class="profile-icon-box icon-success">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
          </svg>
        </div>
        <div class="profile-info-content">
          <div class="profile-info-label">Department</div>
          <p class="profile-info-value">
            {% for dept in request.user.department.all %}
              {{ dept.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
          </p>
        </div>
      </div>
      {% endif %}

    </div>
  </div>
</div>
{% endblock %}
